<!-- templates/device_list.html -->
{% extends "base/index.html" %}
{% load static %}


{% block title %}
Device List
{% endblock %}

{% block content %}
<div class="container mt-5">
    <h1 class="mb-4">Device List</h1>
    <div class="row">
        {% for device_id, data in latest_data.items %}
            <div class="col-md-4 mb-4">
                <div class="card">
                    <div class="card-body">
                        <h5 class="card-title">Device {{ device_id }}</h5>
                        <p class="card-text">
                            <strong>Air Quality:</strong> {{ data.ppm }}<br>
                            <strong>Temperature:</strong> {{ data.temperature }} Â°C<br>
                            <strong>Humidity:</strong> {{ data.humidity }} %<br>
                            <strong>Air Quality Index:</strong> {{ data.aqi }}<br>
                            <strong>Last Updated:</strong> {{ data.timestamp|date:"Y-m-d H:i:s" }}<br>
                        </p>
                        <a href="{% url 'device_detail' device_id %}" class="btn btn-primary">View Device Data</a>
                    </div>
                </div>
            </div>
        {% endfor %}
    </div>
</div>
{% endblock %}